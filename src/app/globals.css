@import "tailwindcss";
@layer base, utils, components;

@import "@webtui/css/base.css";

/* Utils */
@import "@webtui/css/utils/box.css";

/* Components */
@import "@webtui/css/components/button.css";
@import "@webtui/css/components/typography.css";
@import "@webtui/css/components/input.css";
@import "@webtui/css/components/textarea.css";
@import "@webtui/css/components/separator.css";
@import "@webtui/css/components/dialog.css";
@import "@webtui/css/components/popover.css";
@import "@webtui/css/components/tooltip.css";
@import "@webtui/css/components/table.css";
@import "@webtui/css/components/progress.css";
@import "@webtui/css/components/spinner.css";
@import "@webtui/css/components/range.css";
@import "@webtui/css/components/checkbox.css";
@import "@webtui/css/components/radio.css";
@import "@webtui/css/components/switch.css";
@import "@webtui/css/components/pre.css";
@import "@webtui/css/components/badge.css";

/* PWA Full-screen setup */
html,
body,
#root {
  width: 100%;
  height: 100%;
  height: 100dvh;
  margin: 0;
  padding: 0;
  overflow: hidden;
  position: fixed;
  overscroll-behavior: none;
  -webkit-overflow-scrolling: touch;
}

:root {
  --theme-background: #1e1e2e;
  --theme-backgroundAlt: #313244;
  --theme-backgroundAccent: #45475a;
  --theme-foreground: #cdd6f4;
  --theme-foregroundAlt: #bac2de;
  --theme-border: #45475a;
  --theme-primary: #89b4fa;
  --theme-primaryHover: #74c7ec;
  --theme-success: #a6e3a1;
  --theme-warning: #f9e2af;
  --theme-error: #f38ba8;
  --theme-muted: #6c7086;
  --theme-backgroundPanel: #181825;
  --theme-backgroundElement: #11111b;
  --theme-borderActive: #89b4fa;
  --theme-borderSubtle: #585b70;
  --theme-textMuted: #bac2de;
  --theme-secondary: #cba6f7;
  --theme-accent: #f5c2e7;
  --theme-info: #94e2d5;
  --theme-diffAdded: #a6e3a1;
  --theme-diffRemoved: #f38ba8;
  --theme-diffContext: #9399b2;
  --theme-diffAddedBg: #24312b;
  --theme-diffRemovedBg: #3c2a32;
  --theme-diffContextBg: #181825;
  --theme-markdownHeading: #cba6f7;
  --theme-markdownLink: #89b4fa;
  --theme-markdownCode: #a6e3a1;
  --theme-markdownBlockQuote: #f9e2af;
  --theme-syntaxComment: #9399b2;
  --theme-syntaxKeyword: #cba6f7;
  --theme-syntaxString: #a6e3a1;
  --theme-syntaxFunction: #89b4fa;
  --theme-diffHunkHeader: #fab387;
  --theme-diffHighlightAdded: #a6e3a1;
  --theme-diffHighlightRemoved: #f38ba8;
  --theme-diffLineNumber: #313244;
  --theme-diffAddedLineNumberBg: #1e2a25;
  --theme-diffRemovedLineNumberBg: #32232a;

  --background: var(--theme-background);
  --foreground: var(--theme-foreground);

  /* Map theme variables to WebTUI variables */
  --background0: var(--theme-background);
  --background1: var(--theme-backgroundAlt);
  --background2: var(--theme-backgroundAccent);
  --background3: var(--theme-border);
  --foreground0: var(--theme-primary);
  --foreground1: var(--theme-primary);
  --foreground2: var(--theme-foregroundAlt);
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-border: var(--theme-border);
  --font-sans: "MesloLGS NF", "Meslo LG S", monospace;
  --font-mono: "MesloLGS NF", "Meslo LG S", monospace;
}

body {
  background: var(--background);
  color: var(--foreground);
  font-family: "MesloLGS NF", "Meslo LG S", monospace;
  margin: 0;
  padding: 0;
  overflow: hidden;
  position: fixed;
  width: 100%;
  height: 100%;
  height: 100dvh;
}

/* Button reset utility
   ------------------------------------------------------------
   WebTUI styles apply a default height of 3lh to all <button>
   elements (see @webtui/css button.css). For textual/link-style
   buttons used in compact status bars, this produces excessive
   vertical height. The utility class below resets those metrics
   so the element shrinks to its content height.
*/
.button-reset {
  background: none !important;
  border: none !important;
  padding: 0 !important;
  height: auto !important;
  min-height: 0 !important;
  line-height: 1.25 !important;
}

/* WebTUI Border Enhancements */
[is-="view"][data-box="square"],
[is-="view"][data-box="round"],
[is-="view"][data-box="double"] {
  border-width: 1px;
  border-style: solid;
  border-color: var(--color-border, #45475a);
}

[is-="separator"] {
  opacity: 1;
  visibility: visible;
  background-color: var(--color-border, #45475a);
}

[is-="separator"][data-direction="horizontal"],
[is-="separator"]:not([data-direction]),
[is-="separator"][data-direction="x"] {
  height: 1px;
  width: 100%;
}

[is-="separator"][data-direction="vertical"],
[is-="separator"][data-direction="y"] {
  width: 1px;
  height: 100%;
}

/*
  ============================================================
  BUTTON STYLES - WebTUI Integration
  ============================================================
  These styles work WITH WebTUI's button system rather than
  fighting against it. We use CSS variables to hook into
  WebTUI's theming while maintaining custom appearance.
  
  Button Hierarchy:
  - foreground0: Primary CTAs (highest prominence)
  - foreground1: Secondary actions (medium prominence)
  - foreground2: Tertiary actions (low prominence)
  - background2: Close/dismiss (subtle)
  - background3: Ultra-subtle controls
  - success/warning/error: Semantic status variants
*/

/* Base button styles - let WebTUI handle defaults where possible */
button[is-="button"],
[is-="button"] {
  /* Layout and structure */
  padding: 0.5rem 1rem;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  height: auto;
  box-sizing: border-box;
  
  /* Typography */
  font-weight: 500;
  line-height: 1;
  
  /* Visual enhancements */
  border-radius: 4px;
  transition: all 0.2s ease;
  
  /* Default appearance - subtle border */
  background-color: transparent;
  color: var(--foreground1);
  border: 1px solid var(--foreground2);
}

button[is-="button"]:hover:not(:disabled),
[is-="button"]:hover:not(:disabled) {
  border-color: var(--foreground1);
  background-color: var(--background1);
}

button[is-="button"]:focus,
[is-="button"]:focus {
  outline: 2px solid var(--foreground0);
  outline-offset: 2px;
}

button[is-="button"]:disabled,
[is-="button"]:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  text-decoration: none !important;
}

/* ============================================================
   Button Variant System
   ============================================================ */

/* PRIMARY CTA - foreground0: Highest prominence, filled button */
button[is-="button"][variant-="foreground0"],
[is-="button"][variant-="foreground0"] {
  background-color: var(--foreground0);
  color: var(--background0);
  border-color: var(--foreground0);
}

button[is-="button"][variant-="foreground0"]:hover:not(:disabled),
[is-="button"][variant-="foreground0"]:hover:not(:disabled) {
  filter: brightness(1.1);
}

/* SECONDARY ACTION - foreground1: Medium prominence, bordered button */
button[is-="button"][variant-="foreground1"],
[is-="button"][variant-="foreground1"] {
  background-color: transparent;
  color: var(--foreground1);
  border-color: var(--foreground1);
}

button[is-="button"][variant-="foreground1"]:hover:not(:disabled),
[is-="button"][variant-="foreground1"]:hover:not(:disabled) {
  background-color: var(--background1);
  border-color: var(--foreground0);
}

/* TERTIARY ACTION - foreground2: Low prominence, subtle button */
button[is-="button"][variant-="foreground2"],
[is-="button"][variant-="foreground2"] {
  background-color: transparent;
  color: var(--foreground2);
  border-color: transparent;
}

button[is-="button"][variant-="foreground2"]:hover:not(:disabled),
[is-="button"][variant-="foreground2"]:hover:not(:disabled) {
  color: var(--foreground1);
  background-color: var(--background1);
}

/* CLOSE/DISMISS - background2: Very subtle, blends with background */
button[is-="button"][variant-="background2"],
[is-="button"][variant-="background2"] {
  background-color: var(--background2);
  color: var(--foreground2);
  border-color: transparent;
}

button[is-="button"][variant-="background2"]:hover:not(:disabled),
[is-="button"][variant-="background2"]:hover:not(:disabled) {
  background-color: var(--background3);
  color: var(--foreground1);
}

/* ULTRA-SUBTLE - background3: Barely visible, hover reveals */
button[is-="button"][variant-="background3"],
[is-="button"][variant-="background3"] {
  background-color: var(--background3);
  color: var(--foreground2);
  border-color: transparent;
}

button[is-="button"][variant-="background3"]:hover:not(:disabled),
[is-="button"][variant-="background3"]:hover:not(:disabled) {
  background-color: var(--background2);
  color: var(--foreground1);
}

/* ============================================================
   Semantic Status Variants
   ============================================================ */

/* SUCCESS: Positive actions */
button[is-="button"][variant-="success"],
[is-="button"][variant-="success"] {
  background-color: var(--theme-success);
  color: var(--background0);
  border-color: var(--theme-success);
}

button[is-="button"][variant-="success"]:hover:not(:disabled),
[is-="button"][variant-="success"]:hover:not(:disabled) {
  filter: brightness(1.1);
}

/* WARNING: Caution actions */
button[is-="button"][variant-="warning"],
[is-="button"][variant-="warning"] {
  background-color: var(--theme-warning);
  color: var(--background0);
  border-color: var(--theme-warning);
}

button[is-="button"][variant-="warning"]:hover:not(:disabled),
[is-="button"][variant-="warning"]:hover:not(:disabled) {
  filter: brightness(1.1);
}

/* ERROR: Destructive actions */
button[is-="button"][variant-="error"],
[is-="button"][variant-="error"] {
  background-color: var(--theme-error);
  color: var(--background0);
  border-color: var(--theme-error);
}

button[is-="button"][variant-="error"]:hover:not(:disabled),
[is-="button"][variant-="error"]:hover:not(:disabled) {
  filter: brightness(1.1);
}

/* ============================================================
   Button Sizes
   ============================================================ */

[is-="button"][size-="small"] {
  padding: 0.5rem 0.875rem;
  min-height: 44px;
  min-width: 44px;
  font-size: 0.875rem;
}

@media (min-width: 1024px) {
  [is-="button"][size-="small"] {
    padding: 0.25rem 0.75rem;
    font-size: 0.875rem;
    min-height: unset;
    min-width: unset;
  }
}

[is-="button"][size-="large"] {
  padding: 0.625rem 1.25rem;
  font-size: 1rem;
}

/* Input Enhancements - Override WebTUI defaults */
input[is-="input"],
[is-="input"] {
  background-color: var(--theme-backgroundAlt) !important;
  color: var(--theme-foreground) !important;
  border: 1px solid var(--theme-border) !important;
  border-radius: 4px !important;
  padding: 0.5rem 0.75rem !important;
  outline: none !important;
  transition: border-color 0.2s ease !important;
}

input[is-="input"]:focus,
[is-="input"]:focus {
  border-color: var(--theme-primary) !important;
  outline: 2px solid rgba(from var(--theme-primary) r g b / 0.2) !important;
  outline-offset: 0 !important;
}

input[is-="input"]::placeholder,
[is-="input"]::placeholder {
  color: var(--theme-muted) !important;
  opacity: 0.7 !important;
}

/* Textarea Enhancements - Override WebTUI defaults */
textarea[is-="textarea"],
[is-="textarea"] {
  background-color: var(--theme-backgroundAlt) !important;
  color: var(--theme-foreground) !important;
  border: 1px solid var(--theme-border) !important;
  border-radius: 4px !important;
  padding: 0.5rem 0.75rem !important;
  outline: none !important;
  transition: border-color 0.2s ease !important;
}

textarea[is-="textarea"]:focus,
[is-="textarea"]:focus {
  border-color: var(--theme-primary) !important;
  outline: 2px solid rgba(from var(--theme-primary) r g b / 0.2) !important;
  outline-offset: 0 !important;
}

textarea[is-="textarea"]::placeholder,
[is-="textarea"]::placeholder {
  color: var(--theme-muted) !important;
  opacity: 0.7 !important;
}

/* ============================================================
   Box Button Styles (WebTUI box- attribute)
   ============================================================
   Let WebTUI handle box styling naturally. Only override
   if specific visual conflicts emerge.
   ============================================================ */

/* Box buttons - override WebTUI box styling */
button[is-="button"][box-],
[is-="button"][box-],
button[box-="square"],
button[box-="round"],
button[box-="double"] {
  border-radius: 4px !important;
  background-color: transparent !important;
  background-image: none !important;
  border: 1px solid var(--theme-primary) !important;
  position: relative !important;
  isolation: auto !important;
}

/* Disable WebTUI box pseudo-elements for buttons - all states */
button[is-="button"][box-]:before,
button[is-="button"][box-]:after,
[is-="button"][box-]:before,
[is-="button"][box-]:after,
button[box-="square"]:before,
button[box-="square"]:after,
button[box-="round"]:before,
button[box-="round"]:after,
button[box-="double"]:before,
button[box-="double"]:after,
button[is-="button"][box-]:hover:before,
button[is-="button"][box-]:hover:after,
[is-="button"][box-]:hover:before,
[is-="button"][box-]:hover:after,
button[box-="square"]:hover:before,
button[box-="square"]:hover:after,
button[box-="round"]:hover:before,
button[box-="round"]:hover:after,
button[box-="double"]:hover:before,
button[box-="double"]:hover:after,
button[is-="button"][box-]:focus:before,
button[is-="button"][box-]:focus:after,
[is-="button"][box-]:focus:before,
[is-="button"][box-]:focus:after,
button[box-="square"]:focus:before,
button[box-="square"]:focus:after,
button[box-="round"]:focus:before,
button[box-="round"]:focus:after,
button[box-="double"]:focus:before,
button[box-="double"]:focus:after,
button[is-="button"][box-]:active:before,
button[is-="button"][box-]:active:after,
[is-="button"][box-]:active:before,
[is-="button"][box-]:active:after,
button[box-="square"]:active:before,
button[box-="square"]:active:after,
button[box-="round"]:active:before,
button[box-="round"]:active:after,
button[box-="double"]:active:before,
button[box-="double"]:active:after {
  content: none !important;
  display: none !important;
  border: none !important;
  visibility: hidden !important;
}

/* Box buttons with variant - active state */
button[is-="button"][box-][variant-="foreground0"],
[is-="button"][box-][variant-="foreground0"],
button[box-="square"][variant-="foreground0"],
button[box-="round"][variant-="foreground0"],
button[box-="double"][variant-="foreground0"] {
  background-color: var(--theme-primary) !important;
  background-image: none !important;
  border: 1px solid var(--theme-primary) !important;
}

/* Badge Enhancements - Match box="square" button aesthetic */
/* Base badge style - transparent background with border like buttons */
[is-~="badge"] {
  display: inline-flex !important;
  align-items: center !important;
  justify-content: center !important;
  border-radius: 4px !important;
  padding: 0.25rem 0.5rem !important;
  font-size: 0.75rem !important;
  font-weight: 500 !important;
  line-height: 1 !important;
  height: auto !important;
  min-height: 0 !important;
  transition: all 0.2s ease !important;
  box-sizing: border-box !important;
  white-space: nowrap !important;
  vertical-align: middle !important;
}

/* Title badge - larger and bolder for main title */
[is-~="badge"].badge-title {
  font-size: 1rem !important;
  font-weight: 700 !important;
  padding: 0.375rem 0.75rem !important;
  letter-spacing: 0.025em !important;
}

/* Disable WebTUI's default gradient backgrounds and pseudo-elements */
[is-~="badge"]:before,
[is-~="badge"]:after {
  content: none !important;
  display: none !important;
}

[is-~="badge"] {
  background-image: none !important;
  background-color: transparent !important;
}

/* Foreground variants - bordered style like buttons */
[is-~="badge"][variant-="foreground0"],
[is-~="badge"]:not([variant-]) {
  background-color: transparent !important;
  color: var(--theme-primary) !important;
  border: 1px solid var(--theme-primary) !important;
}

[is-~="badge"][variant-="foreground1"] {
  background-color: transparent !important;
  color: var(--theme-secondary) !important;
  border: 1px solid var(--theme-secondary) !important;
}

[is-~="badge"][variant-="foreground2"] {
  background-color: transparent !important;
  color: var(--theme-accent) !important;
  border: 1px solid var(--theme-accent) !important;
}

/* Background variant badges - subtle with border */
[is-~="badge"][variant-="background0"] {
  background-color: transparent !important;
  color: var(--theme-foregroundAlt) !important;
  border: 1px solid var(--theme-border) !important;
}

[is-~="badge"][variant-="background1"] {
  background-color: var(--theme-backgroundAlt) !important;
  color: var(--theme-foreground) !important;
  border: 1px solid var(--theme-border) !important;
}

[is-~="badge"][variant-="background2"] {
  background-color: var(--theme-backgroundAccent) !important;
  color: var(--theme-foreground) !important;
  border: 1px solid var(--theme-border) !important;
}

[is-~="badge"][variant-="background3"] {
  background-color: transparent !important;
  color: var(--theme-info) !important;
  border: 1px solid var(--theme-info) !important;
}

/* WebTUI Scrollbar Styles */
.scrollbar {
  scrollbar-width: auto;
  scrollbar-color: var(--theme-backgroundAccent) var(--theme-backgroundAlt);
  -webkit-overflow-scrolling: touch;
  scrollbar-gutter: stable both-edges;
}

.scrollbar::-webkit-scrollbar {
  width: 12px;
  height: 12px;
}

.scrollbar::-webkit-scrollbar-track {
  background: var(--theme-backgroundAlt);
  border: 1px solid var(--theme-border);
  border-radius: 6px;
}

.scrollbar::-webkit-scrollbar-thumb {
  background: var(--theme-backgroundAccent);
  border: 1px solid var(--theme-border);
  border-radius: 6px;
}

.scrollbar::-webkit-scrollbar-thumb:hover {
  background: var(--theme-border);
}

.scrollbar::-webkit-scrollbar-corner {
  background: var(--theme-backgroundAlt);
}

/* Hide scrollbar on mobile for cleaner UI */
@media (max-width: 640px) {
  .scrollbar::-webkit-scrollbar {
    display: none;
  }
  .scrollbar {
    scrollbar-width: none;
  }
}

/* Syntax Highlighting with Line Numbers */
.hljs {
  white-space: pre;
  line-height: 1.5;
}

.hljs .line-number {
  display: inline-block;
  width: 3em;
  text-align: right;
  margin-right: 1.5em;
  padding-right: 0.75em;
  border-right: 1px solid var(--theme-border);
  color: var(--theme-muted);
  user-select: none;
}

/* Code block click-to-copy interactions */
.markdown-content pre[data-copy-status] {
  position: relative;
  transition: background-color 120ms ease, border-color 120ms ease;
}

.markdown-content pre[data-copy-status]:hover {
  background-color: rgb(from var(--theme-backgroundAccent) r g b / 0.6);
}

.markdown-content pre[data-copy-status]:focus-visible {
  outline: 2px solid var(--theme-primary);
  outline-offset: 2px;
}

.markdown-content pre[data-copy-status="copied"] {
  background-color: rgb(from var(--theme-primary) r g b / 0.1);
  border-color: var(--theme-primary);
}

.markdown-content pre[data-copy-status="error"] {
  background-color: rgb(from var(--theme-error) r g b / 0.1);
  border-color: var(--theme-error);
}

/* Theme-aware utility classes */
@layer utilities {
  /* Background Colors */
  .bg-theme-background {
    background-color: var(--theme-background) !important;
  }
  .bg-theme-background-alt {
    background-color: var(--theme-backgroundAlt) !important;
  }
  .bg-theme-background-accent {
    background-color: var(--theme-backgroundAccent) !important;
  }
  .bg-theme-primary {
    background-color: var(--theme-primary) !important;
  }

  /* Status Background Colors */
  .bg-theme-success {
    background-color: var(--theme-success) !important;
  }
  .bg-theme-warning {
    background-color: var(--theme-warning) !important;
  }
  .bg-theme-error {
    background-color: var(--theme-error) !important;
  }

  /* Status Background Colors with Opacity */
  .bg-theme-success\/10 {
    background-color: rgb(from var(--theme-success) r g b / 0.1) !important;
  }
  .bg-theme-warning\/10 {
    background-color: rgb(from var(--theme-warning) r g b / 0.1) !important;
  }
  .bg-theme-error\/10 {
    background-color: rgb(from var(--theme-error) r g b / 0.1) !important;
  }
  .bg-theme-primary\/10 {
    background-color: rgb(from var(--theme-primary) r g b / 0.1) !important;
  }

  /* Text Colors */
  .text-theme-foreground {
    color: var(--theme-foreground) !important;
  }
  .text-theme-foreground-alt {
    color: var(--theme-foregroundAlt) !important;
  }
  .text-theme-primary {
    color: var(--theme-primary) !important;
  }
  .text-theme-muted {
    color: var(--theme-muted) !important;
  }
  .text-theme-error {
    color: var(--theme-error) !important;
  }
  .text-theme-success {
    color: var(--theme-success) !important;
  }
  .text-theme-warning {
    color: var(--theme-warning) !important;
  }

  /* Border Colors */
  .border-theme-border {
    border-color: var(--theme-border) !important;
  }
  .border-theme-primary {
    border-color: var(--theme-primary) !important;
  }
  .border-theme-success {
    border-color: var(--theme-success) !important;
  }
  .border-theme-warning {
    border-color: var(--theme-warning) !important;
  }
  .border-theme-error {
    border-color: var(--theme-error) !important;
  }

  /* Border Colors with Opacity */
  .border-theme-success\/30 {
    border-color: rgb(from var(--theme-success) r g b / 0.3) !important;
  }
  .border-theme-warning\/30 {
    border-color: rgb(from var(--theme-warning) r g b / 0.3) !important;
  }
  .border-theme-error\/30 {
    border-color: rgb(from var(--theme-error) r g b / 0.3) !important;
  }
  .border-theme-primary\/30 {
    border-color: rgb(from var(--theme-primary) r g b / 0.3) !important;
  }

  /* Hover States */
  .hover\:bg-theme-background-accent:hover {
    background-color: var(--theme-backgroundAccent) !important;
  }
  .hover\:bg-theme-primary:hover {
    background-color: var(--theme-primary) !important;
  }
}

/* Mobile-specific utilities */
@layer utilities {
  .touch-action-manipulation {
    touch-action: manipulation;
  }

  .tap-highlight-none {
    -webkit-tap-highlight-color: transparent;
  }

  .smooth-scroll {
    -webkit-overflow-scrolling: touch;
    scroll-behavior: smooth;
  }

  .min-touch-target {
    min-height: 44px;
    min-width: 44px;
  }

  /* 
   * Text Truncation Pattern for Flex Containers
   * 
   * To enable ellipsis truncation inside flex layouts:
   * 1. Parent flex container: `flex` with appropriate direction
   * 2. Child text element: `min-w-0 truncate`
   * 
   * Example:
   *   <div class="flex items-center gap-2">
   *     <span class="min-w-0 truncate">Long text that will truncate...</span>
   *   </div>
   * 
   * The `min-w-0` allows the flex child to shrink below its content size.
   * The `truncate` applies `overflow-hidden text-ellipsis whitespace-nowrap`.
   * 
   * For multi-line truncation, use `line-clamp-{n}` instead of `truncate`.
   */
}

/* Mobile viewport optimizations */
@media (max-width: 640px) {
  body {
    overflow-x: hidden;
    overflow-y: hidden;
  }

  input,
  textarea,
  select {
    font-size: 16px !important;
  }

  /* Add safe padding on mobile to prevent overflow */
  [is-="view"] {
    max-width: calc(
      100vw - env(safe-area-inset-left) - env(safe-area-inset-right)
    );
  }
}

/* Support for dynamic viewport height */
@supports (height: 100dvh) {
  html,
  body,
  #root {
    height: 100dvh;
  }
}

/* Prevent iOS Safari bounce/rubber-band effect */
@supports (-webkit-touch-callout: none) {
  html,
  body {
    height: -webkit-fill-available;
  }
}

/* Input and Textarea Placeholder Styling */
input::placeholder,
textarea::placeholder {
  color: var(--theme-muted) !important;
  opacity: 0.7;
}

/* Semantic Component Classes */

/* Connection Status Indicator */
.connection-indicator {
  @apply w-2 h-2 rounded-full;
}

.connection-indicator.connected {
  background-color: rgb(34, 197, 94);
}

.connection-indicator.disconnected {
  background-color: var(--theme-error);
}

/* Message Container Backgrounds */
.message-user {
  background-color: var(--theme-backgroundAlt);
}

.message-assistant {
  background-color: var(--theme-background);
}

/* Status Cards */
.status-card {
  border: 1px solid;
  border-radius: 0.375rem;
  overflow: hidden;
  margin-bottom: 0.5rem;
}

.status-card.running {
  background-color: rgb(from var(--theme-primary) r g b / 0.1);
  border-color: rgb(from var(--theme-primary) r g b / 0.3);
}

.status-card.completed {
  background-color: rgb(from var(--theme-success) r g b / 0.1);
  border-color: rgb(from var(--theme-success) r g b / 0.3);
}

.status-card.error {
  background-color: rgb(from var(--theme-error) r g b / 0.1);
  border-color: rgb(from var(--theme-error) r g b / 0.3);
}

.status-card.pending {
  background-color: rgb(from var(--theme-muted) r g b / 0.1);
  border-color: rgb(from var(--theme-muted) r g b / 0.3);
}

/* Status Badge Variants - Semantic colors with button-like bordered style */
.status-badge-success,
[is-~="badge"][variant-="success"] {
  background-color: transparent !important;
  color: var(--theme-success) !important;
  border: 1px solid var(--theme-success) !important;
}

.status-badge-warning,
[is-~="badge"][variant-="warning"] {
  background-color: transparent !important;
  color: var(--theme-warning) !important;
  border: 1px solid var(--theme-warning) !important;
}

.status-badge-error,
[is-~="badge"][variant-="error"] {
  background-color: transparent !important;
  color: var(--theme-error) !important;
  border: 1px solid var(--theme-error) !important;
}

.status-badge-info,
[is-~="badge"][variant-="info"] {
  background-color: transparent !important;
  color: var(--theme-info) !important;
  border: 1px solid var(--theme-info) !important;
}

.status-badge-pending,
[is-~="badge"][variant-="pending"] {
  background-color: transparent !important;
  color: var(--theme-muted) !important;
  border: 1px solid var(--theme-muted) !important;
}

/* Accessibility Enhancements */

/* Reduced Motion Support */
@media (prefers-reduced-motion: reduce) {
  * {
    transition-duration: 0.01ms !important;
    animation-duration: 0.01ms !important;
  }
}

/* Dark Mode Optimizations */
@media (prefers-color-scheme: dark) {
  .text-theme-foreground {
    text-shadow: 0 0 1px rgba(0, 0, 0, 0.1);
  }
}

/* Message Spacing Optimizations */
pre.whitespace-pre-wrap {
  padding: 0.5rem 0.5rem !important;
  background-color: transparent !important;
  background-image: none !important;
}

/* Agent mention suggestion styling */
.agent-suggestion {
  border-left: 2px solid var(--theme-primary);
}

.suggestion-desc {
  font-size: 0.875rem;
  opacity: 0.6;
}

/* Session deletion button styling */
.delete-button-neutral {
  color: var(--theme-foreground);
  opacity: 0.6;
  transition: opacity 0.2s, color 0.2s, background-color 0.2s;
}

.delete-button-bulk {
  color: var(--theme-foreground);
}

.delete-button-neutral:hover {
  opacity: 1;
  color: var(--theme-error, #ef4444);
  background-color: color-mix(in srgb, var(--theme-error, #ef4444) 10%, transparent);
}

.delete-button-bulk:hover {
  color: var(--theme-foreground);
  background-color: color-mix(in srgb, var(--theme-error, #ef4444) 10%, transparent);
}

.delete-button-confirm {
  background-color: var(--theme-error, #ef4444);
  color: #ff0000 !important;
}

.delete-button-confirm:hover {
  background-color: color-mix(in srgb, var(--theme-error, #ef4444) 90%, black);
}

/* Dangerous bulk delete styling */
.dangerous-bulk-delete {
  color: #ff0000 !important;
}

/* Checkbox styling overrides */
input[type="checkbox"][is-="checkbox"] {
  appearance: none;
  -webkit-appearance: none;
  width: 18px;
  height: 18px;
  min-width: 18px;
  min-height: 18px;
  border: 1px solid var(--theme-border, var(--theme-primary));
  border-radius: 0;
  background-color: var(--theme-background);
  cursor: pointer;
  position: relative;
  transition: border-color 0.2s ease, background-color 0.2s ease, box-shadow 0.2s ease;
}

input[type="checkbox"][is-="checkbox"]::before,
input[type="checkbox"][is-="checkbox"]::after {
  content: "";
  position: absolute;
  top: 3px;
  left: 8px;
  width: 1px;
  height: 12px;
  background-color: var(--theme-primary);
  transform-origin: center;
  opacity: 0;
  transition: opacity 0.2s ease;
}

input[type="checkbox"][is-="checkbox"]::before {
  transform: rotate(45deg);
}

input[type="checkbox"][is-="checkbox"]::after {
  transform: rotate(-45deg);
}

input[type="checkbox"][is-="checkbox"]:hover {
  background-color: rgba(from var(--theme-primary) r g b / 0.08);
  border-color: var(--theme-primary);
}

input[type="checkbox"][is-="checkbox"]:focus-visible {
  outline: 2px solid rgba(from var(--theme-primary) r g b / 0.4);
  outline-offset: 2px;
}

input[type="checkbox"][is-="checkbox"]:checked {
  background-color: var(--theme-background);
  border-color: var(--theme-primary);
}

input[type="checkbox"][is-="checkbox"]:checked::before,
input[type="checkbox"][is-="checkbox"]:checked::after {
  opacity: 1;
}

input[type="checkbox"][is-="checkbox"]:disabled {
  cursor: not-allowed;
  opacity: 0.5;
}
